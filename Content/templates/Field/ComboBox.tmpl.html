<!-- ko template:{name:'templates/Field/FieldCaption' , data: $data} --> <!-- /ko -->

<div data-bind="if: _.has($data, 'ChosenForEdit') ">
    <input type="button" class="panelclose-dk-grey" style="float: right; background-color: transparent; border:none; margin-top: 7px; margin-right:2px" data-bind="attr: { title: HP.HPTRIM.Messages.web_clickToNotSetfieldValue}, event: { click: function(){ $parents[6].changeChosenState($parent)} } " />
    <div style="overflow: hidden; padding-right: 0px;">
        <!-- ko if: optionsValue != null -->
        <div>
            <select style="height:31px; margin: 0 0 8px 0; max-width: 473px" data-bind="value: Value, disable: (isDisable() || fieldDisabled()), options: $data.items(),optionsValue: optionsValue, optionsText: optionsText,  selectedOption: $parent.selectedValue, attr: { id:Id }, css:cssClass , event: { focus: focusCallback, blur: onblur }" />
        </div>
        <!-- /ko -->
        <!-- ko if: optionsValue == null -->
        <div style="display: flex">
            <!--<select style="height: 31px; margin: 0 0 8px 0; max-width: 473px" data-bind="value: Value, disable: (isDisable() || fieldDisabled()), options: $data.items(), selectedOption: $parent.selectedValue, attr: {id:Id }, event: { focus: focusCallback, blur: onblur }" />-->

            <input type="text" class="hprm-text-input" readonly style="height: 31px; margin: 0 0 10px 0; width: 427px" data-bind="value: Value, disable: (isDisable() || fieldDisabled()), attr: {id:Id}, event: { focus: focusCallback, blur: onblur }" />
            <div class="input-group-btn" style="display: inline-block; width: 44px">
                <button title="button" name="button" class="btn btn-default dropdown-toggle button-grey" data-toggle="dropdown" style="vertical-align:text-bottom; width: 100%; height: 31px; margin-left: 2px" data-bind="click: function () { $data.showLookupItemPanel() }, attr: {title: HP.HPTRIM.Messages.web_modify}">
                    <i class="kwikselect" style="display: flex; height: 14px; width: 14px; margin-left: -1px">  </i>
                </button>
            </div>
        </div>
        <!-- /ko -->
    </div>
</div>

<div data-bind="ifnot: _.has($data, 'ChosenForEdit') ">
    <!-- ko if: optionsValue != null -->
    <div style="display: flex; max-width: 240px">

        <!-- ko ifnot: $data.multiSelect || ($data.lookupSetUri !== undefined && $data.lookupSetUri > 0) -->
        <select style="height:31px; margin: 0 0 10px 0;" data-bind="value: Value, disable: fieldDisabled, options: $data.items(),optionsValue: optionsValue, optionsText: optionsText,  selectedOption: $parent.selectedValue, attr: { id:Id }, css:cssClass , event: { focus: focusCallback, blur: onblur }" />
        <!-- /ko -->
        <!-- ko if: $data.multiSelect || ($data.lookupSetUri !== undefined && $data.lookupSetUri.length > 0) -->
        <input type="text" class="hprm-text-input" readonly style="height:31px; margin: 0 0 10px 0; width: calc(100% - 45px)" data-bind="value: Value, disable: (isDisable() || fieldDisabled()), attr: { id:Id, title:$data.Caption }, css:cssClass , event: { focus: focusCallback, blur: onblur }" />

        <div class="input-group-btn" style="display: inline-block; width: 44px">
            <button title="button" name="button" class="btn btn-default dropdown-toggle button-grey" data-toggle="dropdown" style="vertical-align:text-bottom; width: 100%; height: 31px; margin-left: 2px" data-bind="click: function () { $data.showLookupItemPanel() }, attr: {title: HP.HPTRIM.Messages.web_modify}">
                <i class="kwikselect" style="display: flex; height: 14px; width: 14px; margin-left: -1px">  </i>
            </button>
        </div>
        <!-- /ko -->
    </div>
    <!-- /ko -->
    <!-- ko if: optionsValue == null -->
    <div style="display: flex; max-width: 550px">

        <!-- ko ifnot: $data.multiSelect || ($data.lookupSetUri !== undefined && $data.lookupSetUri > 0) -->
        <select style="height: 31px; margin: 0 0 10px 0;" data-bind="value: Value, disable: (isDisable() || fieldDisabled()), options: $data.items(), selectedOption: $parent.selectedValue, attr: {id:Id}, event: { focus: focusCallback, blur: onblur }" />
        <!-- /ko -->
        <!-- ko if: $data.multiSelect || ($data.lookupSetUri !== undefined && $data.lookupSetUri > 0) -->
        <input type="text" class="hprm-text-input"  style="height: 31px; margin: 0 0 10px 0; width: calc(100% - 45px)" data-bind="value: Value, disable: (isDisable() || fieldDisabled()), attr: {id:Id, title:$data.Caption}, event: { focus: focusCallback, blur: onblur }" />

        <div class="input-group-btn" style="display: inline-block; width: 44px">
            <button title="button" name="button" class="btn btn-default dropdown-toggle button-grey" data-toggle="dropdown" style="vertical-align:text-bottom; width: 100%; height: 31px; margin-left: 2px" data-bind="click: function () { $data.showLookupItemPanel() }, attr: {title: HP.HPTRIM.Messages.web_modify, id: $data.Name + '_btn'}">
                <i class="kwikselect" style="display: flex; height: 14px; width: 14px; margin-left: -1px">  </i>
            </button>
        </div>
        <!-- /ko -->
    </div>
    <!-- /ko -->


</div>


